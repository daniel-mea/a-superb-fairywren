<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Superb Fairywren - Contact</title>

<link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,wght@1,700&family=Fraunces:wght@500&display=swap" rel="stylesheet">

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%; /* fallback */
  overflow: hidden;
  font-family: 'Fraunces', serif;
  background-color: #000;
}

.header {
  position: relative;
  text-align: center;
  z-index: 10;
  padding-top: 15px;
}

.header img {
  width: 60px;
  border-radius: 50%;
  display: block;
  margin: 0 auto;
  transition: width 0.3s ease;
}

.header h1 {
  color: #FFE555;
  font-weight: 500;
  text-decoration: line-through;
  text-transform: uppercase;
  margin: 10px 0 0 0;
  font-size: 1.5em;
}

@media (max-width:1000px),(max-height:500px){
  .header img{width:50px;}
}
@media (max-width:1000px) and (max-height:500px) and (orientation: landscape){
  .header{display:grid; place-items:center; padding-top:15px;}
  .header a:first-child,.header a:nth-child(2){grid-area:1/1;}
  .header a:nth-child(2){display:flex; align-items:center; justify-content:center;}
  .header h1{margin:0;}
}

#bg{
  position:absolute;
  z-index:1;
}

.hotbox{
  position:absolute;
  border:0;
  box-sizing:border-box;
  cursor:pointer;
  z-index:2;
}
</style>
</head>
<body>

<div class="header">
  <a href="/home/"><img src="https://raw.githubusercontent.com/daniel-mea/a-superb-fairywren/main/docs/website_assets/site_logo-small.jpg" alt="Site Logo"></a>
  <a href="/home/" style="text-decoration:none;"><h1>A SUPERB FAIRYWREN</h1></a>
</div>

<img id="bg" src="https://raw.githubusercontent.com/daniel-mea/a-superb-fairywren/main/docs/website_assets/Nokiaaaa-large3.jpg">

<div id="hotbox1" class="hotbox"></div>
<div id="hotbox2" class="hotbox"></div>
<div id="hotbox3" class="hotbox"></div>
<div id="hotbox4" class="hotbox"></div>

<script>
// --- Dynamic --vh for Safari address bar ---
(function(){
  const setVh = () => {
    const vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', vh + 'px');
  };
  setVh();
  let tid=null;
  const debouncedSet=()=>{ clearTimeout(tid); tid=setTimeout(setVh,80); };
  window.addEventListener('resize',debouncedSet);
  window.addEventListener('orientationchange',debouncedSet);
})();

// --- Hotbox + image setup ---
const img=document.getElementById("bg");
const box1=document.getElementById("hotbox1");
const box2=document.getElementById("hotbox2");
const box3=document.getElementById("hotbox3");
const box4=document.getElementById("hotbox4");

const ORIGINAL_W=3726, ORIGINAL_H=1921;
const EXTRA_SCALE=1.4, SHIFT_FACTOR=0.25, MIN_SCALE=0.5;
const HEIGHT_SCALE=1921/3113;

const HOTBOX1={x:(ORIGINAL_W/2)-291,y:((3113/2)-790)*HEIGHT_SCALE,w:585.5,h:85.5};
const HOTBOX2={x:HOTBOX1.x+200,y:(HOTBOX1.y+455)*HEIGHT_SCALE,w:180,h:88};
const HOTBOX3={x:1560,y:1565*HEIGHT_SCALE,w:175,h:69};
const HOTBOX4={x:2060,y:1565*HEIGHT_SCALE,w:111.5,h:69};

function updateHotboxes(){
  const vw=window.innerWidth;
  const vh=window.innerHeight;

  let scale=Math.max(vw/ORIGINAL_W,vh/ORIGINAL_H)*EXTRA_SCALE;
  if(scale<MIN_SCALE) scale=MIN_SCALE;

  const renderedW=ORIGINAL_W*scale;
  const renderedH=ORIGINAL_H*scale;

  // vertical shift
  let verticalShift=vh*SHIFT_FACTOR;
  if(vw>vh && vh<500) verticalShift+=222;

  let offsetX=(vw-renderedW)/2;
  let offsetY=verticalShift-(renderedH-vh)/2;

  // clamp to viewport
  if(offsetY>0) offsetY=0;
  if(offsetY+renderedH<vh) offsetY=vh-renderedH;

  // apply to image
  img.style.width=renderedW+"px";
  img.style.height=renderedH+"px";
  img.style.left=offsetX+"px";
  img.style.top=offsetY+"px";

  // apply to hotboxes
  [[box1,HOTBOX1],[box2,HOTBOX2],[box3,HOTBOX3],[box4,HOTBOX4]].forEach(([box,H])=>{
    box.style.left=offsetX+H.x*scale+"px";
    box.style.top=offsetY+H.y*scale+"px";
    box.style.width=H.w*scale+"px";
    box.style.height=H.h*scale+"px";
  });
}

function openMail(){ window.open("mailto:mgmt@asuperbfairywren.com","_blank"); }

box1.onclick=openMail;
box2.onclick=openMail;
box3.onclick=()=>{window.location.href='/home/';};
box4.onclick=()=>{window.history.back();};

window.addEventListener("load",updateHotboxes);
window.addEventListener("resize",updateHotboxes);
window.addEventListener("orientationchange",updateHotboxes);
</script>

</body>
</html>
